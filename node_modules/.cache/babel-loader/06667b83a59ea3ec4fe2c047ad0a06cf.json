{"ast":null,"code":"var _jsxFileName = \"/Users/sharvankumar/brainstorm/swapi/swapi/src/components/Planets.js\";\nimport React, { Component } from 'react';\nimport './styles.css';\nimport { withRouter } from 'react-router'; // import {checkStatus} from '../auth';\n\nimport ModalInfo from './Modal'; // import { debounce } from \"../utils/debounce\"\n\nclass Planets extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      planets: [{\n        name: 'No Data Found'\n      }],\n      searchParam: '',\n      filtered: this.props.data || [{\n        name: 'No Data Found'\n      }],\n      currPage: 1,\n      searching: 'no'\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      planets: this.props.data,\n      filtered: this.props.data || [],\n      showInfo: false\n    });\n  }\n\n  shouldComponentUpdate() {\n    return true;\n  }\n\n  filterList(event) {\n    // var updatedList = this.props.data.filter(function(item){\n    //     return item.name.toLowerCase().search(event.target.value.toLowerCase()) !== -1;\n    // });\n    //this.setState({filtered:event.currentTarget.value?updatedList:[]});\n    let _ref = [this, event.target.value.toLowerCase()],\n        self = _ref[0],\n        param = _ref[1];\n    self.setState({\n      searching: 'yes'\n    });\n    this.props.searchAPlanet(param) // self.setState({\n    //   filtered: this.props.data,\n    //   searchParam: param\n    // });\n    .then(function (res) {\n      self.setState({\n        filtered: self.props.data,\n        searchParam: param,\n        searching: 'no'\n      });\n    }, function () {\n      alert('No item found!!');\n    });\n  }\n\n  lessItems(event) {\n    if (!event.currentTarget.value) this.setState({\n      filtered: []\n    });\n  }\n\n  logouot() {// checkStatus.setLoggedIn = false;\n    // this.props.history.push(\"/\");\n  }\n\n  itemClicked(planet) {\n    this.setState({\n      showInfo: true,\n      planet: planet\n    });\n  }\n\n  hideInfo() {\n    this.setState({\n      showInfo: false\n    });\n  }\n\n  paginate(dir) {\n    let self = this;\n    let inc = dir == 'next' ? 1 : -1;\n    let page = parseInt(self.state.currPage, 0) + inc;\n    self.setState({\n      searching: 'yes'\n    });\n    this.props.searchAPlanet(this.state.searchParam + '&page=' + page).then(function () {\n      self.setState({\n        filtered: self.props.data,\n        currPage: page,\n        searching: 'no'\n      });\n    }, function () {\n      alert('No item found!!');\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.showInfo ? React.createElement(ModalInfo, {\n      planet: this.state.planet,\n      hideInfo: this.hideInfo.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }) : '', React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 userinfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Welcome: \", React.createElement(\"i\", {\n      className: \"fa fa-sign-out\",\n      \"aria-hidden\": \"true\",\n      onClick: this.logouot.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-10 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.props.data && this.props.data.length > 0 ? 'Search' : 'Loading...',\n      onKeyUp: this.filterList.bind(this),\n      onBlur: this.lessItems.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-10 center planet-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"list-group searching-\".concat(this.state.searching),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.filtered.length > 0 ? this.state.filtered.map((val, i) => {\n      let fontSize = {\n        fontSize: 50 + Number(val.diameter) / 1e3 + 'px'\n      };\n      let boundItemClick = this.itemClicked.bind(this, val);\n      return React.createElement(\"a\", {\n        href: \"#\",\n        className: \"list-group-item\",\n        key: i,\n        style: fontSize,\n        onClick: boundItemClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, val.name, \" \", React.createElement(\"i\", {\n        className: \"fa fa-globe\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }));\n    }) : ''), React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.paginate.bind(this, 'prev'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Prev\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.paginate.bind(this, 'next'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Next\"))))));\n  }\n\n}\n\nexport default withRouter(Planets);","map":{"version":3,"sources":["/Users/sharvankumar/brainstorm/swapi/swapi/src/components/Planets.js"],"names":["React","Component","withRouter","ModalInfo","Planets","constructor","props","state","planets","name","searchParam","filtered","data","currPage","searching","componentDidMount","setState","showInfo","shouldComponentUpdate","filterList","event","target","value","toLowerCase","self","param","searchAPlanet","then","res","alert","lessItems","currentTarget","logouot","itemClicked","planet","hideInfo","paginate","dir","inc","page","parseInt","render","bind","length","map","val","i","fontSize","Number","diameter","boundItemClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport  './styles.css';\nimport { withRouter } from 'react-router';\n// import {checkStatus} from '../auth';\nimport ModalInfo from './Modal';\n// import { debounce } from \"../utils/debounce\"\nclass Planets extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            planets: [{name:'No Data Found'}],\n            searchParam: '',\n            filtered: this.props.data || [{ name: 'No Data Found' }],\n            currPage: 1,\n            searching:'no'\n        }\n    }\n    componentDidMount(){\n        this.setState({\n            planets: this.props.data,\n            filtered: this.props.data || [],\n            showInfo:false\n        });\n    }\n    shouldComponentUpdate(){\n      return true;\n    }\n    filterList(event){\n        // var updatedList = this.props.data.filter(function(item){\n        //     return item.name.toLowerCase().search(event.target.value.toLowerCase()) !== -1;\n        // });\n        //this.setState({filtered:event.currentTarget.value?updatedList:[]});\n      let [self, param] = [this, event.target.value.toLowerCase()];\n      self.setState(\n        {\n          searching:'yes'\n        }\n      );\n      this.props.searchAPlanet(param)\n\n      // self.setState({\n      //   filtered: this.props.data,\n      //   searchParam: param\n      // });\n      .then(function(res){\n        self.setState({ \n                  filtered: self.props.data ,\n                  searchParam: param,\n                  searching: 'no'\n                });\n      },function(){\n        alert('No item found!!');\n      });\n    }\n    lessItems(event){\n       if(!event.currentTarget.value)this.setState({filtered:[]});\n    }\n    logouot(){\n        // checkStatus.setLoggedIn = false;\n        // this.props.history.push(\"/\");\n    }\n    itemClicked(planet){\n        this.setState({\n            showInfo: true,\n            planet: planet\n        });\n    }\n    hideInfo(){\n        this.setState({\n            showInfo: false\n        });\n    }\n\n    paginate(dir){\n      let self = this;\n      let inc = ( dir == 'next' )?1:-1;\n      let page = parseInt(self.state.currPage, 0) + inc;\n      self.setState(\n        {\n          searching: 'yes'\n        }\n      );\n      this.props.searchAPlanet(this.state.searchParam + '&page=' + page).then(function () {\n        self.setState({\n          filtered: self.props.data,\n          currPage: page,\n          searching: 'no'\n        });\n      }, function () {\n        alert('No item found!!');\n      });\n    }\n    render(){\n        return(\n            <div className=\"container\">\n                {this.state.showInfo?<ModalInfo planet={this.state.planet} hideInfo={this.hideInfo.bind(this)}/>:''}\n                <div className=\"row\">\n                        <div className=\"col-md-12 userinfo\">\n                            Welcome: <i className=\"fa fa-sign-out\" aria-hidden=\"true\" onClick={this.logouot.bind(this)}></i>\n                        </div>\n                </div>        \n                <div className=\"row\">\n                    <div className=\"col-md-10 center\">\n                        <input type=\"text\" className=\"form-control\"\n                         placeholder={this.props.data && this.props.data.length>0?'Search':'Loading...'} \n                         onKeyUp={this.filterList.bind(this)} onBlur={this.lessItems.bind(this)}/>\n                    </div>\n                 </div>\n                     <div className=\"row\">\n                     <div className=\"col-md-10 center planet-list\">\n                         <div className={`list-group searching-${this.state.searching}`}>\n                             {this.state.filtered.length>0 ? \n                                 (this.state.filtered.map((val,i)=>{\n                                     let fontSize = {\n                                         fontSize:(50+Number(val.diameter)/1e3)+'px'\n                                     };\n                                     let boundItemClick = this.itemClicked.bind(this, val);\n                                     return <a href=\"#\" className=\"list-group-item\" key={i}\n                                       style={fontSize} onClick={boundItemClick}>\n                                        {val.name} <i className=\"fa fa-globe\" aria-hidden=\"true\">\n                                        </i></a>;\n                                 })\n                                 ):''}\n                         </div>\n                         <ul className=\"pagination\">\n                            <li><a href=\"#\" onClick={this.paginate.bind(this,'prev')}>Prev</a></li>\n                            <li><a href=\"#\" onClick={this.paginate.bind(this, 'next')}>Next</a></li>\n                         </ul>\n                     </div>\n                     \n                  </div>\n            </div>\n        );\n    }\n}\nexport default withRouter(Planets);"]},"metadata":{},"sourceType":"module"}