{"ast":null,"code":"var _jsxFileName = \"/Users/sharvankumar/brainstorm/swapi/swapi/src/components/Planets.js\";\nimport React, { Component } from 'react';\nimport './styles.css'; // import { withRouter } from 'react-router';\n\nimport { connect } from \"react-redux\"; // import {checkStatus} from '../auth';\n\nimport ModalInfo from './Modal';\nimport { debounce } from \"../utils\";\nimport { onLogout, getPlanets } from \"../actions\";\n\nclass Planets extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      const dispatch = this.props.dispatch;\n      dispatch(onLogout());\n    };\n\n    const userData = props.userData;\n    this.state = {\n      planets: [{\n        name: 'No Data Found'\n      }],\n      searchParam: '',\n      filtered: props.data || [{\n        name: 'No Data Found'\n      }],\n      currPage: 1,\n      searching: 'no',\n      name: userData ? userData[0].name : \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      planets: this.props.data,\n      filtered: this.props.data || [],\n      showInfo: false\n    });\n  }\n\n  filterList(param) {\n    const dispatch = this.props.dispatch;\n    dispatch(getPlanets({\n      param\n    }));\n  }\n\n  lessItems(event) {// if (!event.currentTarget.value) this.setState({ filtered: [] });\n  }\n\n  itemClicked(planet) {\n    this.setState({\n      showInfo: true,\n      planet: planet\n    });\n  }\n\n  hideInfo() {\n    this.setState({\n      showInfo: false\n    });\n  }\n\n  render() {\n    const name = this.state.name;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.showInfo ? React.createElement(ModalInfo, {\n      planet: this.state.planet,\n      hideInfo: this.hideInfo.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }) : '', React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 userinfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Welcome: \", name, React.createElement(\"i\", {\n      className: \"fa fa-sign-out\",\n      \"aria-hidden\": \"true\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Logout \"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-10 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.props.data && this.props.data.length > 0 ? 'Search' : 'Loading...',\n      onChange: evt => {\n        const val = evt.target.value;\n        return debounce(this.filterList.bind(this, val), 2000)();\n      },\n      onBlur: this.lessItems,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-10 center planet-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"list-group searching-\".concat(this.state.searching),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.filtered.length > 0 ? this.state.filtered.map((val, i) => {\n      let fontSize = {\n        fontSize: 50 + Number(val.diameter) / 1e3 + 'px'\n      };\n      let boundItemClick = this.itemClicked.bind(this, val);\n      return React.createElement(\"a\", {\n        href: \"#\",\n        className: \"list-group-item\",\n        key: i,\n        style: fontSize,\n        onClick: boundItemClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, val.name, \" \", React.createElement(\"i\", {\n        className: \"fa fa-globe\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }));\n    }) : ''))));\n  }\n\n}\n\nPlanets.getDerivedStateFromProps = (props, state) => {\n  const loginSuccess = props.loginSuccess,\n        history = props.history,\n        planetsData = props.planetsData;\n\n  if (!loginSuccess) {\n    history.push(\"/login\");\n  }\n\n  return {\n    planets: planetsData\n  };\n};\n\nexport default connect(state => {\n  // const userData = state.get\n  return {\n    userData: state.userData,\n    loginSuccess: state.loginSuccess,\n    planetsData: state.planetsData\n  };\n})(Planets);","map":{"version":3,"sources":["/Users/sharvankumar/brainstorm/swapi/swapi/src/components/Planets.js"],"names":["React","Component","connect","ModalInfo","debounce","onLogout","getPlanets","Planets","constructor","props","logout","dispatch","userData","state","planets","name","searchParam","filtered","data","currPage","searching","componentDidMount","setState","showInfo","filterList","param","lessItems","event","itemClicked","planet","hideInfo","render","bind","length","evt","val","target","value","map","i","fontSize","Number","diameter","boundItemClick","getDerivedStateFromProps","loginSuccess","history","planetsData","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.css';\n// import { withRouter } from 'react-router';\nimport { connect } from \"react-redux\";\n// import {checkStatus} from '../auth';\nimport ModalInfo from './Modal';\nimport { debounce } from \"../utils\"\nimport { onLogout, getPlanets } from \"../actions\";\n\nclass Planets extends Component {\n\n    constructor(props) {\n        super(props);\n        const { userData } = props;\n        this.state = {\n            planets: [{ name: 'No Data Found' }],\n            searchParam: '',\n            filtered: props.data || [{ name: 'No Data Found' }],\n            currPage: 1,\n            searching: 'no',\n            name: userData ? userData[0].name : \"\"\n        }\n    }\n\n    static getDerivedStateFromProps = (props, state) => {\n        const { loginSuccess, history, planetsData } = props;\n        if (!loginSuccess) {\n            history.push(\"/login\")\n        }\n        return {\n            planets: planetsData\n        };\n    };\n\n    componentDidMount() {\n        this.setState({\n            planets: this.props.data,\n            filtered: this.props.data || [],\n            showInfo: false\n        });\n    }\n\n    filterList(param) {\n        const { dispatch } = this.props;\n        dispatch(getPlanets({ param }));\n    }\n\n    lessItems(event) {\n        // if (!event.currentTarget.value) this.setState({ filtered: [] });\n    }\n\n    logout = () => {\n        const { dispatch } = this.props;\n        dispatch(onLogout());\n    };\n\n    itemClicked(planet) {\n        this.setState({\n            showInfo: true,\n            planet: planet\n        });\n    }\n\n    hideInfo() {\n        this.setState({\n            showInfo: false\n        });\n    }\n    render() {\n        const { name } = this.state;\n\n        return (\n            <div className=\"container\">\n                {this.state.showInfo ? <ModalInfo planet={this.state.planet} hideInfo={this.hideInfo.bind(this)} /> : ''}\n                <div className=\"row\">\n                    <div className=\"col-md-12 userinfo\">\n                        Welcome: {name}<i className=\"fa fa-sign-out\" aria-hidden=\"true\" onClick={this.logout}> Logout </i>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-10 center\">\n                        <input type=\"text\" className=\"form-control\"\n                            placeholder={this.props.data && this.props.data.length > 0 ? 'Search' : 'Loading...'}\n                            onChange={(evt) => {\n                                const val = evt.target.value;\n                                return debounce(this.filterList.bind(this, val), 2000)()\n                            }} onBlur={this.lessItems} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-10 center planet-list\">\n                        <div className={`list-group searching-${this.state.searching}`}>\n                            {this.state.filtered.length > 0 ?\n                                (this.state.filtered.map((val, i) => {\n                                    let fontSize = {\n                                        fontSize: (50 + Number(val.diameter) / 1e3) + 'px'\n                                    };\n                                    let boundItemClick = this.itemClicked.bind(this, val);\n                                    return <a href=\"#\" className=\"list-group-item\" key={i}\n                                        style={fontSize} onClick={boundItemClick}>\n                                        {val.name} <i className=\"fa fa-globe\" aria-hidden=\"true\">\n                                        </i></a>;\n                                })\n                                ) : ''}\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect((state) => {\n    // const userData = state.get\n    return {\n        userData: state.userData,\n        loginSuccess: state.loginSuccess,\n        planetsData: state.planetsData\n    }\n})(Planets);"]},"metadata":{},"sourceType":"module"}